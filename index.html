<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Void Echoes - Selection</title>
    <style>
        :root {
            --gold: #ffd700;
            --blue: #00d4ff;
            --bg-panel: rgba(10, 10, 15, 0.85);
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: 'Segoe UI', sans-serif;
            color: white;
        }

        /* --- ЗАГРУЗОЧНЫЙ ЭКРАН (БЕЗ НАЗВАНИЯ) --- */
        #loading-screen {
            position: fixed;
            width: 100%; height: 100%;
            background: url('bg_loading_main_v1.png') no-repeat center center/cover;
            display: flex; flex-direction: column;
            align-items: center; justify-content: flex-end;
            z-index: 100; transition: opacity 0.8s ease;
        }

        .loader-container { 
            width: 60%; max-width: 350px; 
            margin-bottom: 12vh; 
        }

        .progress-bar { 
            height: 4px; background: rgba(255,255,255,0.1); 
            border-radius: 2px; overflow: hidden; 
        }

        .progress-fill { 
            width: 0%; height: 100%; 
            background: var(--gold); 
            box-shadow: 0 0 15px var(--gold); 
            transition: width 0.2s;
        }

        /* --- ЭКРАН ВЫБОРА ГЕРОЯ --- */
        #selection-screen {
            display: none; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            opacity: 0; transition: opacity 0.6s ease, background-image 0.5s ease;
            position: relative;
        }

        /* Контейнер для героя и таблицы (Компактный) */
        .selection-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%; height: 80vh;
            gap: 30px;
            padding: 0 5%;
            box-sizing: border-box;
            z-index: 2;
        }

        /* Герой слева */
        .hero-view {
            flex: 1;
            height: 100%;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }

        .hero-view img {
            max-height: 85%;
            max-width: 100%;
            object-fit: contain;
            filter: drop-shadow(0 0 30px rgba(0,0,0,0.9));
        }

        /* Таблица навыков справа */
        .skills-card {
            flex: 0 0 400px;
            background: var(--bg-panel);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(12px);
        }

        .skills-card h2 {
            margin: 0 0 20px 0;
            text-align: center;
            color: var(--gold);
            letter-spacing: 2px;
            font-size: 1.6rem;
            text-transform: uppercase;
        }

        .skill-item {
            display: flex; align-items: center;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.03);
            padding: 10px; border-radius: 8px;
        }

        .skill-img {
            width: 50px; height: 50px;
            border: 1px solid var(--gold);
            border-radius: 5px; margin-right: 15px;
        }

        .skill-content { flex-grow: 1; }
        .skill-meta {
            display: flex; justify-content: space-between;
            font-size: 0.85rem; margin-bottom: 5px;
            font-weight: bold; color: #eee;
        }

        .bar-bg { width: 100%; height: 5px; background: #222; border-radius: 3px; }
        .bar-fill { height: 100%; background: var(--blue); border-radius: 3px; transition: width 1s ease-out; }

        /* Эмблемы снизу */
        .class-selector {
            position: absolute; bottom: 0;
            width: 100%; height: 20vh;
            display: flex; justify-content: center; align-items: center;
            gap: 40px;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        }

        .icon-btn {
            display: flex; flex-direction: column; align-items: center;
            cursor: pointer; transition: 0.3s;
            filter: grayscale(1) brightness(0.6);
        }

        .icon-btn img { width: 70px; height: 70px; margin-bottom: 5px; }
        .icon-btn.active { filter: grayscale(0) brightness(1.2); transform: scale(1.1); }
        .icon-btn span { font-size: 0.75rem; color: var(--gold); font-weight: bold; }

        /* Адаптация под мобильные */
        @media (max-width: 850px) {
            .selection-container { flex-direction: column; height: 75vh; gap: 10px; padding-top: 20px; }
            .hero-view { height: 40%; }
            .skills-card { flex: 0 0 auto; width: 90%; padding: 15px; }
            .skill-img { width: 40px; height: 40px; }
        }
    </style>
</head>
<body>

    <div id="loading-screen">
        <div class="loader-container">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
        </div>
    </div>

    <div id="selection-screen">
        <div class="selection-container">
            <div class="hero-view">
                <img id="hero-img" src="" alt="Hero">
            </div>

            <div class="skills-card">
                <h2 id="class-title">КЛАСС</h2>
                <div id="skills-list"></div>
            </div>
        </div>

        <div class="class-selector">
            <div class="icon-btn" id="btn-warrior" onclick="selectHero('warrior')">
                <img src="icon_hero_paladin.png" alt="Воин">
                <span>ВОИН</span>
            </div>
            <div class="icon-btn" id="btn-mage" onclick="selectHero('mage')">
                <img src="icon_hero_mage.png" alt="Маг">
                <span>МАГ</span>
            </div>
            <div class="icon-btn" id="btn-archer" onclick="selectHero('archer')">
                <img src="icon_hero_ranger.png" alt="Лучник">
                <span>ЛУЧНИК</span>
            </div>
        </div>
    </div>

    <script>
        const heroesData = {
            warrior: {
                title: "ВОИН",
                bg: "UI_Background_Warrior.png",
                image: "hero_warrior_male.png",
                skills: [
                    { n: "Базовый урон", i: "war_1_basic.png", p: 75 },
                    { n: "Массовый урон", i: "war_2_aoe.png", p: 65 },
                    { n: "Контроль", i: "war_3_control.png", p: 40 },
                    { n: "Живучесть", i: "war_4_survivability.png", p: 95 },
                    { n: "Ультимейт", i: "war_5_ultimate.png", p: 80 }
                ]
            },
            mage: {
                title: "МАГ",
                bg: "UI_Background_Mage.png",
                image: "hero_mage_male.png",
                skills: [
                    { n: "Базовый урон", i: "mag_1_basic.png", p: 85 },
                    { n: "Массовый урон", i: "mag_2_aoe.png", p: 95 },
                    { n: "Контроль", i: "mag_3_control.png", p: 70 },
                    { n: "Живучесть", i: "mag_4_survivability.png", p: 30 },
                    { n: "Ультимейт", i: "mag_5_ultimate.png", p: 90 }
                ]
            },
            archer: {
                title: "ЛУЧНИК",
                bg: "UI_Background_Archer.png",
                image: "hero_archer_male.png",
                skills: [
                    { n: "Базовый урон", i: "arc_1_basic.png", p: 90 },
                    { n: "Массовый урон", i: "arc_2_aoe.png", p: 70 },
                    { n: "Контроль", i: "arc_3_control.png", p: 60 },
                    { n: "Живучесть", i: "arc_4_survivability.png", p: 50 },
                    { n: "Ультимейт", i: "arc_5_ultimate.png", p: 85 }
                ]
            }
        };

        function startLoading() {
            let progress = 0;
            const fill = document.getElementById('progress-fill');
            const timer = setInterval(() => {
                progress += Math.random() * 5;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(timer);
                    setTimeout(initGame, 500);
                }
                fill.style.width = progress + '%';
            }, 100);
        }

        function initGame() {
            document.getElementById('loading-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
                const s = document.getElementById('selection-screen');
                s.style.display = 'block';
                setTimeout(() => { s.style.opacity = '1'; selectHero('warrior'); }, 50);
            }, 800);
        }

        function selectHero(key) {
            const d = heroesData[key];
            const screen = document.getElementById('selection-screen');
            
            screen.style.backgroundImage = `url('${d.bg}')`;
            document.getElementById('hero-img').src = d.image;
            document.getElementById('class-title').innerText = d.title;

            const list = document.getElementById('skills-list');
            list.innerHTML = '';
            d.skills.forEach(sk => {
                list.innerHTML += `
                    <div class="skill-item">
                        <img src="${sk.i}" class="skill-img">
                        <div class="skill-content">
                            <div class="skill-meta"><span>${sk.n}</span><span>${sk.p}%</span></div>
                            <div class="bar-bg"><div class="bar-fill" style="width:${sk.p}%"></div></div>
                        </div>
                    </div>`;
            });

            document.querySelectorAll('.icon-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-${key}`).classList.add('active');
        }

        window.onload = startLoading;
    </script>
</body>
</html>
