<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>War of Kings: Legacy of Empires</title>
    <style>
        /* Твои стили */
        body { margin: 0; padding: 0; background: #000; color: #fff; font-family: 'Cinzel', serif; overflow: hidden; }
        #loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; }
        .progress-container { width: 80%; height: 10px; background: #222; border: 1px solid #ffd700; border-radius: 5px; margin-top: 20px; }
        #progress-fill { width: 0%; height: 100%; background: gold; transition: width 0.1s; }
        #selection-screen { display: none; opacity: 0; transition: opacity 1s; padding: 20px; text-align: center; }
    </style>
</head>
<body>

    <div id="loading-screen">
        <h1 style="color: gold; text-align: center;">War of Kings:<br>Legacy of Empires</h1>
        <div class="progress-container">
            <div id="progress-fill"></div>
        </div>
        <p id="loading-pct" style="color: gold;">0%</p>
    </div>

    <div id="selection-screen">
        <h2 style="color: gold;">Выберите своего правителя</h2>
        <button onclick="alert('Герой выбран!')">Начать путь</button>
    </div>

    <script>
    // Весь код загрузки теперь здесь, он точно сработает
    (function() {
        function start() {
            const fill = document.getElementById('progress-fill');
            const pct = document.getElementById('loading-pct');
            
            if (!fill || !pct) return;

            let p = 0;
            const inv = setInterval(() => {
                p += 2; // Плавная загрузка
                if (p > 100) p = 100;
                
                fill.style.width = p + '%';
                pct.textContent = p + '%';

                if (p >= 100) {
                    clearInterval(inv);
                    document.getElementById('loading-screen').style.display = 'none';
                    const next = document.getElementById('selection-screen');
                    next.style.display = 'block';
                    setTimeout(() => next.style.opacity = '1', 50);
                }
            }, 50);

            // Просто пингуем твой сервер в фоне (даже если будет ошибка Mixed Content, игра не встанет)
            fetch('http://45.128.204.64/api/status').catch(e => console.log("Сервер ждет HTTPS"));
        }

        window.onload = start;
    })();
    </script>
</body>
</html>
